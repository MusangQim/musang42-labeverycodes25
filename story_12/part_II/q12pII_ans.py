#########################################
#  ___                  _       _ ____  #
# / _ \ _   _  ___  ___| |_    / |___ \ #
#| | | | | | |/ _ \/ __| __|   | | __) |#
#| |_| | |_| |  __/\__ \ |_    | |/ __/ #
# \__\_\\__,_|\___||___/\__|___|_|_____|#
#                         |_____|       #
#########################################
# ----------------------PART II----------------------
from collections import deque
"""
notes = """
989601
857782
746543
766789
"""
"""
notes = """
99999999999992997358010676991895937919608575032909210971788224579554469243935132408221049392415785907390629039057019894017050301842956850254370723324149084558513261372365440470
99999999999969259992572561811686152797634984201693381765541119726903740672407101060608556986214404223782202612666950778201253419962198739225373723519401962478437166375926272311
99999999999995919999179399114951868738110659026178839872893590849946184160025487577017130517549879576481137392822084728369547165245903572248053006770119408851257755069777181901
89999999999999999999999999208839247946848210407731533464331818364416524001372257502432977110769999965227694467808373179858588208281062955547196853908830725094118236098792663153
29999999999999599999993918797153275394761267496007330484749962889553900295804942139999999431999999995731599999946843791262697693938944351684413016689364893712777634198312673876
43899999999931899999995744163535406255727689817257368424619464143956133649322667439999999999999999999999999999997017169997216201637577059017345201456125751320834136805710612211
79999999999922361499918698668046197000692834326776748168293568364775450599999999999999999999999999999999999999999999999999890126693836574204446044907489454895927127895121401392
44499999954889980347178220202994241654497991453831772096475410882769243559999999999999999999999999999999999999999999999999974707999107806721490656736588636898204387597643255862
41999999923477355925558287321505687605500670142579949252522991615399996999999999999999999994165499994239299999999999999999999497159670241012400180678597493915300408648659253485
59999999946444345047979202774490220397138157212788851670022884999999999999999999996751899999756319999279339999949999999999999999999999730024269842220090771126204244360121332607
99999998068614734455798241383264019986205007607025920688779178776999999999999189999911081435198992086223127969654487999999999999999999518622451692105078131862040871545103524171
99999992449992399932731307578776812483828052227100619700022511747999999999823936524824579898279916919921828389315675999992999999999999931179967042085411755749666654569088027477
99999999999999999540729148033776143166983858888238724508429999999999994999931443645115241960641004731344415524499532599970052499999999999975243874352747101666260590997256830822
99999999999999994797436323379741340266588708531941331813989999999999949728161081976151971292209254696316914868268508747590418499999999999999999901776435556804512387369681922752
99999995519999996210667761184278165202875220850483122132069999999999991893653495975996833132449053206542842181503500381541596999999999999999999952749048513315130274142512877754
99999994114166133440166441192292320643955612153984530636999999999995397530393891436985299745245781734489554965059272984644515949877282999999999924607639872955635031290009273703
99999994160824307932691067432726064701692739116397542999999999999672772596655838285110157462557977754680821881492268029023777693861566299999999960421699649646712443007703631304
99999926082617956292385487185270891586971906954950199999999999997412824372605145281789541755899193769301742045047428928234177159175223699999999993994059301055328869693085906593
99999949368025620994712613785481583421656247667663316999999999680008192237222864362687327995304327264416809037878001526965528754991729999999999999999999947367760028257517284439
99999929118595681452741992603292392908345504839617962999994083918226201562867518957796467721088142189762924278765094377753054224551782999581999999999999994113429385898698860409
99999979994499989964004086447911699889707775326910999999987179472109407275432996785360799958990740968886328288542970661486062208309552269603679999999999993525279104345040104155
99999949999993735884971976456433950904977297552654999999999116015853504476089273957999999999999999998294339803930114733686881218867046641526315999999999954943856865238812128970
99999999999999823585689872382471231509458517648442699999329475895254858213431629999999999999999999999284312733682030416181229272392659234842793999999999692398217664239984389910
99999999999999383037292407785950385002244872725777799998084897572830279644539999999891433709849899999999924755876932051491842504692359512615999999999999807817499322670560665727
99999918899997532623634706025590205660573239817779999999960400703486160109999988315572239782318623939999999946124939116182414938512585846319699999999999999954222918278402325664
99999991127627666938386923131034365894673195854899999999931191905349544049999145787425140194083225793999999992319101078691393847564854803454471981239999999499999837539816129194
99999913447454937998584919655122448381206159717999999999126038454383262999985080379834768240633766235659299999792866828187325957083434512100299934962999999999999964911951728724
99999993349776662151928868163204216394150685928203999999238327273531735999951539166888884168217503441525399899999303753387029502820443349586922171554699999999999990151312718324
99999965913887994829556847096401557827199780488144999999996698487698039999143823888999999999294715277030874949999021570321036749819945031876359523331599999999999527401433086493
99999916992929997613945537578713132368339434896399999999200947828277519992907748888864525199992883033561618999999969084051134201442447173020511892799999999999996616425977030473
99999916999999428712443161638093939837895437613939999999623137482912649991283388888888821607999691285841645893799999174505007911140751214578024805399999999999937675792178454802
99999999999999999999163241075343406109797226918695729999938020923550289998941588888888884305199999272459237946799999577230901201794473898687941512074491899999999999755965238275
99999999999999985969449207292139213670070073541123599999991837922118483999224248888888888958429993860667566006999999417045158051606620172076137999748947939999996199995990305239
99999999219995931494227900120996019137500671643735999999344481358349727499931369888888888138719993558771987078437999895393778502692006661477623921007537719999999899999941091783
99999999974279374099988610533164362075718642207308999999999194928819205199998472313888886803669999328148879239971999995622455129184173017177936978297137677999999999999996369406
99999999929995969713317550231753347218459832901650378839999929518182389684999999999998883788049998990787383075699999990282626211413029373752098282194197216099999999999994047622
99999999985975508090592469435104332312067228318156944899999975884677996832221688888428207901199997838288054047499999990725461782310144686751565955333201299999999999999949938191
49999999995179826998694361174987782304329101332784249899999999937815711543261354460508193831999946993674267839943399991916251382819406021279930424736452999999999999999276925172
79999999995299914993589293466919027755605252774646553062219999946105408951001664591869038499999967625566691720245999999488317134872290126862505720814971499999999999910476430266
94799999999359999999676274587849793096745754185673368295169999999997888901035756104703745999999758656197270079999999999168348761831649813542516139685617399888999999995483391728
42219999999999999999824753396235616543046406673271298169779999999994499292517257752192999999926572013531085705938999944102522718494734117141614531460671282837009999999998496890
72691999999999999992137049635672159352561244695221280259338853499999999444999999599999999992480147480405546099940999964920712460939437134260461513231735178003741999999999934437
69799999999999724707354411367941858083999035735060878820687710099999999999999999999999961765019912983222112174889999999490242002966606488178410881829499703579887699999999999824
34999999999999992436346722664777471442613954204455727427487267708618899989999999999549613605305061296437878149999999999734122726454411652903884695420797318126701599999999999993
31999999999999992983108249105617271456000279003960021721829980631463639611299221112727586362312810834813425121999999991581407675096274168349207392910683129319298799999999999991
52699999999999999392864799368770095390071424940374948465237235779300254372616411153698451710598177906349411978999999441387991692721932320699181662225689512999999999999999999910
43981969999999999998999999999243736158799452409492055570845848789938026736405332770677320933703649899212379999999999716760298402527453131953675770171095963999999999999999999373
51290791699999999999499999999141759201125356876148551296967083785460691114850891196967636731584949084800499999999999424273455194110222475111507785099784473799999999999994991543
55779999221989999999999999993709273333237695317972788208545195330772085700195167584430799709375758551924139999999999137588492517306450515437900049802687749997239999999976203990
18681479113059999999999935173886276405435477309851511328568097884049322456645736576671905865244037054315199999999994762912648894794402996098215715114667369438441999999973743059
05830957331358999999999999557163534932032809844555490907840728847152255661864594783152762050175036229999999999956132345741104940610842487611001263807492237089005999999696999119
14593264301199999999999999408514424998009149830866154637656278212542302012279433930798818629469988999999999999937197833354970173205788031332368260740969132494814999999199891161
40589110241699999999999999999918999999958296985022792915092881579836800331163293937538446062589299461999999999999958276537030971370923890701465531926896105715299999999654999995
03709676185479999999999999999999999999933792398867208809683170459115333992194048629996316615748984726999999999944396399549759958978181594643352556853227557006799999999999999999
03327121620832499999999999999999999999912454689271837623128214289041969019917102011371642399999992699999999991940283719414213868691959015585145006921259237599999999999999999999
90115639691165633691459859999999999999999783389999910621883876379973696639526197645265679446999999999999968113779072686354489233712686293474906810169474769999999999999999999999
01943553069690373999434991999999999999999998199999999098792214792616682417928824999899914242299999999999770543253115380619883455600127900633621976037499692999999999999999999999
98971626615684994423050676799999999999999999999999958517579999987499549909986214589999999999999999999999896037224063228432860479014398265807170136658291162999999999999999999991
08207732028291077433873162299999999983999999999999994142833899992733635899999158599999999999999999999993494706282261186406170196588239424049623835533284799978599999999999994390
65007811588239950828775539599999999993749999999999999999999999999147046999999999999999999999999923397214316846881265606136392407180747436291800061073206891127355999999998679853
41251930428170129999037127319999999699962199999999999999999999999999999999999999999999999999992350114219455112554899036644641333149988939392745754319657311978096929999999925631
64853167572956483579999969848634999350541999999999999999999999999999999999999999999949999999999997179543963279386464138541773178811223905852696352629334283301943591899999999889
31261401975404783822217351090878499912953799999999993589999999999999999999999999999950729999992192614603708096089415776182610162301148480945854721192462238306526845799999999917
89125094923894147827653883049438629537430379999999989958189999999999987199999999991298276828034307431755479606420790734119426609295716994153843977515921720659562765608999999941
35705495256895686020077793312014826711171791999995936842719999999998989736999999999952122130360147378632650195978021049102403015284524328611639623900664339287031899998999999992
10037323908627154870413649433154989796565357727567993416791999999942768885764989399962906189171748330606378340827965443433198812020848136680349698263379999999128299999999999998
03538440079234383144397966803227977656166112013131999787477531442799489627078719132783926202351529529744663589391354003491946185252551538000235001382099999999906799999999999999
83379613773572482026604904542751280297308865631891708077141886403977752781728547720805459933270524391944689287539092174454355078095234698791160883655449999999299999999999999999
11523638405868921094425023130300404439257006557858596391774671235942570294854566445976077776840988880166388225964385439472511281080451692970524825301359999999999999599999999999
19778300494710019742197117876374585134268652035202122777967045756755287050156102496531524363998289364726277143401884741003273649988759543438864150799994619999998961999999999999
03978149582213989294400602985229150876190597274833670447913764686506888466759383268278035071298469278851398591807847898476800966989364397986774099990499519999884687399999999999
12641803126358721388904448872477856914845462105986657332081433067730718832020180285075440261682294131386536760722089646654282526326352618179999629385945316749908155499999999999
"""

clean_notes = notes.strip()
list_notes = clean_notes.splitlines()


arrange_barrel = []

for rows in list_notes:
    row_barrel = []
    for num in rows:
        row_barrel.append(int(num))
    arrange_barrel.append(row_barrel)

row_last = len(arrange_barrel) - 1
col_last = len(arrange_barrel[0]) - 1

burn_barrel = set()
burn_barrel.add((0, 0))
burn_barrel.add((row_last, col_last))

turn_ignite = deque()
turn_ignite.append((0, 0))
turn_ignite.append((row_last, col_last))

while turn_ignite:
    r, c = turn_ignite.popleft()

    another_barrel = [
            (r - 1, c),
            (r + 1, c),
            (r, c - 1),
            (r, c + 1)
    ]

    for rr, cc in another_barrel:
        if rr < 0 or rr >= len(arrange_barrel):
            continue
        if cc < 0 or cc >= len(arrange_barrel[rr]):
            continue
        if arrange_barrel[rr][cc] > arrange_barrel[r][c]:
            continue
        if (rr, cc) in burn_barrel:
            continue
        burn_barrel.add((rr, cc))
        turn_ignite.append((rr, cc))

print(len(burn_barrel))
